<!doctype html>
<html lang="{{ request.locale.iso_code }}">
  <head>
    {% # Inlined CSS Variables %}
    {% render 'css-variables' %}

    {% # Load and preload the critical CSS %}
    {{ 'critical.css' | asset_url | stylesheet_tag: preload: true }}

    {% # Custom fonts (if needed) %}
    {{ 'custom-fonts.css' | asset_url | stylesheet_tag }}

    {% # Social, title, etc. %}
    {% render 'meta-tags' %}

    {{ content_for_header }}

    {{ 'tailwind.output.css' | asset_url | stylesheet_tag }}

    {% # Search Overlay styles %}
    {{ 'search-overlay.css' | asset_url | stylesheet_tag }}
  </head>

  <body>
    {% sections 'header-group' %}

    <main id="main-content" role="main">
      {{ content_for_layout }}
    </main>

    {% sections 'footer-group' %}

    {% # Cart Drawer %}
    {% render 'cart-drawer' %}

    {% # Search Overlay %}
    <div class="search-overlay" data-search-overlay>
      <div class="search-overlay__container">
        <button class="search-overlay__close" data-search-close aria-label="Fermer">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
        <form action="{{ routes.search_url }}" method="get" class="search-overlay__form">
          <input
            type="search"
            name="q"
            placeholder="{{ 'general.search_placeholder' | t | default: 'Rechercher...' }}"
            class="search-overlay__input"
            data-search-input
            autocomplete="off"
          >
          <button type="submit" class="search-overlay__submit">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
          </button>
        </form>
        <div class="search-overlay__results" data-search-results></div>
      </div>
    </div>

    {% # Theme JavaScript %}
    <script src="{{ 'theme.js' | asset_url }}" defer></script>

    {% # Shopify money format for JS %}
    <script>
      window.Shopify = window.Shopify || {};
      window.Shopify.money_format = {{ shop.money_format | json }};
    </script>

  </body>
</html>
